<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta http-equiv="x-ua-compatible" content="ie=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
	<!-- Begin LozyeFramework.WebEngine SEO tag v2.6.1 -->
<title>如果使用原生JS实现一个对象 | Lozye</title>
<meta name="generator" content="LozyeFramework.WebEngine v1.0.0" />
<meta property="og:title" content="如果使用原生JS实现一个对象" />
<meta property="og:locale" content="cn_ZH" />
<meta name="description" content="talk is cheep ，show me ur code" />
<meta property="og:description" content="talk is cheep ，show me ur code" />
<link rel="canonical" href="https://lozye.github.io/post/2020-07-24/2020-07-24-js-to-class.html?v=132490419912505474" />
<meta property="og:url" content="https://lozye.github.io/post/2020-07-24/2020-07-24-js-to-class.html?v=132490419912505474" />
<meta property="og:site_name" content="Lozye" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-07-24" />
<script type="application/ld+json">{"headline":"如果使用原生JS实现一个对象","dateModified":"2020-11-05T17:26:31+08:00","datePublished":"2020-11-05T17:26:31+08:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://lozye.github.io/post/2020-07-24/2020-07-24-js-to-class.html?v=132490419912505474"},"url":"https://lozye.github.io/post/2020-07-24/2020-07-24-js-to-class.html?v=132490419912505474","description":"talk is cheep ，show me ur code","@context":"https://schema.org"}</script>
<!-- End LozyeFramework.WebEngine SEO tag -->
	<link href="https://lozye.github.io/assets/css/web.all.css?v=132490419912505474" rel="stylesheet" />

	<!--[if lt IE 9]>
	<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
	<![endif]-->

</head>

<body>
	<div class="x-wapper">
		<div class="x-site">
			<div class="x-site-top"></div>
			<div class="x-site-mid"></div>
			<div class="x-site-footer">
				<p class="x-site-title"><a href="https://lozye.github.io/index.html?v=132490419912505474">Lozye</a></p>
				<p class="x-site-slogan"><a>身处黑夜，心向黎明！</a></p>
				<p class="x-site-slogan"><a href="https://lozye.github.io/list.html?v=132490419912505474">全部文章</a></p>
			</div>
			<div class="x-site-hidden">
				<p><a href="http://www.beian.miit.gov.cn/" target="_blank"></a></p>
				<p></p>
			</div>
		</div>
		<div class="x-main">
			<div class="x-container">
				<div class="x-box grid-box">
					<div class="grid-box x-box-header">
						<div class="x-box-title grid-box">如果使用原生JS实现一个对象</div>
						<div class="x-box-date grid-box">2020-07-24</div>
					</div>
					<div class="grid-box x-box-markdown markdown-body"> <blockquote>
<p>talk is cheep ，show me ur code</p>
</blockquote>
<pre><code class="language-js"><span class="hljs-keyword">var</span> democlass = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-comment">/** 直接响应即可 如果需要构造函数仅需指定function的参数 */</span>
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">args</span>) </span>{
    <span class="hljs-keyword">var</span> current=<span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> tempWeather=[<span class="hljs-string">&quot;晴&quot;</span>,<span class="hljs-string">&quot;雨&quot;</span>,<span class="hljs-string">&quot;阴&quot;</span>];

    <span class="hljs-comment">/** 定义私有变量 */</span>
    <span class="hljs-keyword">var</span> _temp = args || { <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;test&quot;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">16</span> }; <span class="hljs-comment">//args 为空时自动构造空对象</span>

    <span class="hljs-comment">/** 定义公共变量 */</span>
    <span class="hljs-built_in">Object</span>.defineProperty(<span class="hljs-built_in">this</span>, <span class="hljs-string">&quot;Name&quot;</span>, {<span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> _temp.name + <span class="hljs-string">&quot;,@&quot;</span>+getWeather();}});

    <span class="hljs-comment">/** 定义私有方法 */</span>
    <span class="hljs-keyword">var</span> getWeather=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
        current++;
        <span class="hljs-keyword">if</span>(current&gt;=tempWeather.length) current=<span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> tempWeather[current];
    };

    <span class="hljs-comment">/** 定义公共方法 */</span>
    <span class="hljs-built_in">this</span>.Who=<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Be called &quot;</span>+_temp.name + <span class="hljs-string">&quot;, A &quot;</span>+(_temp.age==<span class="hljs-number">16</span>?<span class="hljs-string">&quot;JK&quot;</span>:<span class="hljs-string">&quot;Counter&quot;</span>); };
  };
})();</code></pre>
<h3 id="开始测试">开始测试</h3>
<p>直接已静态方法访问</p>
<pre><code class="language-js">&gt; democlass.Name
<span class="hljs-literal">undefined</span>

&gt; democlass.Who()
Uncaught <span class="hljs-built_in">TypeError</span>: democlass.Who is not a <span class="hljs-function"><span class="hljs-keyword">function</span>

&gt; <span class="hljs-title">tempWeather</span>.<span class="hljs-title">getWeather</span>(<span class="hljs-params"></span>)
<span class="hljs-title">Uncaught</span> <span class="hljs-title">TypeError</span>: <span class="hljs-title">democlass</span>.<span class="hljs-title">getWeather</span> <span class="hljs-title">is</span> <span class="hljs-title">not</span> <span class="hljs-title">a</span> <span class="hljs-title">function</span></span></code></pre>
<p>定义对象访问公共属性</p>
<pre><code class="language-js"><span class="hljs-keyword">var</span> user=<span class="hljs-keyword">new</span> democlass({<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;stu&quot;</span>,<span class="hljs-attr">age</span>:<span class="hljs-number">24</span>});
&gt; user.Name
<span class="hljs-string">&quot;stu,@雨&quot;</span>

&gt; user.Name
<span class="hljs-string">&quot;stu,@晴&quot;</span></code></pre>
<p>下面尝试访问私有属性</p>
<pre><code class="language-js">&gt; user.tempWeather
<span class="hljs-literal">undefined</span></code></pre>
<p>下面尝试访问公共方法</p>
<pre><code class="language-js">&gt; user.Who()
<span class="hljs-string">&quot;Be called stu, A Counter&quot;</span></code></pre>
<p>继续尝试访问私有方法</p>
<pre><code class="language-js">&gt; user.getWeather()
Uncaught <span class="hljs-built_in">TypeError</span>: user.getWeather is not a <span class="hljs-function"><span class="hljs-keyword">function</span></span></code></pre>
<h3 id="结束">结束</h3>
<p>好的小朋友们，本期的js定义class的讲解就到这里，下面开始<code>技术总结</code></p>
<ul>
<li>公共属性的定义需要借助<code>Object.defineProperty</code>来实现，直接使用<code>this.</code>定义会发生什么呢，小朋友可以去尝试一下</li>
<li>公共方法与私有方法的定义就很简单了，使用<code>this.</code>暴露出去就是公共的</li>
<li>下期来个静态类下的私有变量和私有方法</li>
</ul>
 </div>
					<div class="grid-box x-box-footer">
						<div class="x-box-line">
							<div class="grid-box x-box-left">
								<ul>
									
									<li><a href="https://lozye.github.io/list.html#js?v=132490419912505474">js</a> </li>
									
								</ul>
								&nbsp;
							</div>
							<div class="grid-box x-box-right">
								<a href="https://lozye.github.io/list.html?v=132490419912505474">BACK</a>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="x-footer">
				<div class="x-footer-msg x-noselect grid-box">
					<ul>
						<li>
							<span>
								product by
								<a href="https://github.com/lozye" target="_blank">@Lozye</a>
							</span>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="x-hidden"></div>
	</div>
	
</body>

</html>