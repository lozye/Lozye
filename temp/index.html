<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />

    <link href="" rel="stylesheet" />
    <link href="/assets/css/unsemantic.min.css" rel="stylesheet" />
    <link href="/assets/css/web.position.css" rel="stylesheet" />
    <link href="/assets/css/web.site.css" rel="stylesheet" />
    <link href="/assets/css/web.box.css" rel="stylesheet" />
    <link href="/assets/css/web.web.markdown.css" rel="stylesheet" />

    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    <style>
        .cover-7x12 {
            color: red;
        }
    </style>

</head>

<body>
    <div class="x-wapper">
        <div class="x-site">
            <div class="x-site-top"></div>
            <div class="x-site-mid"></div>
            <div class="x-site-footer">
                <p class="x-site-title"><a href="/index.html">Lozye</a></p>
                <p class="x-site-slogan"><a href="#">身处黑夜，心向黎明</a></p>
            </div>
        </div>
        <div class="x-main">
            <div class="x-container">
                <div class="x-box grid-box">
                    <div class="grid-box x-box-header">
                        <div class="x-box-title grid-box">
                            <p class="cover-200x30"></p>
                        </div>
                        <div class="x-box-date grid-box">2020-07-10</div>
                    </div>
                    <div class="grid-box x-box-markdown markdown-body">
                        <p class="cover-70%"></p>
                        <p class="cover-70%"></p>
                        <p class="cover-50%"></p>
                        <p class="cover-70%"></p>
                        <p class="cover-70%"></p>
                        <p class="cover-50%"></p>
                        <span class="cover-260x200"></span>
                        <span class="cover-260x200"></span>
                    </div>
                    <div class="grid-box x-box-footer">
                        <div class="x-box-line">
                            <div class="grid-70">
                                <ul>
                                    <li><a href="#">test</a> </li>
                                    <li><a href="#">test</a></li>
                                </ul>
                            </div>
                            <div class="grid-30">
                                <a href="#">MORE</a>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="x-footer">
                <div class="x-footer-msg x-noselect grid-box">
                    <ul>
                        <li><span>product by
                                <a href="https://github.com/lozye" target="_blank">@Lozye</a>
                            </span></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="x-hidden"></div>
    </div>
    <script>
        var coverJS = (function () {
            /** 开始模拟 */
            var run = function (option) {
                conf = { bgcolor: "#ddd", heigth: 20 };
                if (option) for (var key in option) { conf[key] = option[key]; }

                var list = document.querySelectorAll("*[class^=cover-]");
                for (var i = 0; i < list.length; i++) {
                    //单线程，不能共用regex
                    var regex = new RegExp("cover-(\\d+%?)(x(\\d+))?", "ig");
                    var item = list[i];
                    var cl = item.getAttribute("class");
                    var match = regex.exec(cl);
                    if (!match) continue;

                    //处理默认值
                    var height = conf.heigth;
                    if (match[3]) height = match[3];
                    var width = match[1];

                    var span = document.createElement("span");
                    span.style.display = "inline-block";
                    span.innerHTML = "&nbsp;";
                    if (conf.bgcolor) span.style.backgroundColor = conf.bgcolor;
                    if (height) { span.style.lineHeight = height + "px"; span.style.height = height + "px"; }
                    span.style.width = width.endsWith("%") ? width : width + "px";
                    item.innerHTML = null;
                    item.appendChild(span);
                }

            };//end run
            return { run: run };
        })();
        coverJS.run({ heigth: 16 });
    </script>
</body>

</html>